---
title: LC752-æ‰“å¼€è½¬ç›˜é”
date: 2021-06-25 19:14:01
permalink: /pages/8e87e0/
---

## é¢˜ç›®æè¿°

- é“¾æ¥ï¼š[https://leetcode-cn.com/problems/open-the-lock/](https://leetcode-cn.com/problems/open-the-lock/)
- éš¾åº¦ï¼šğŸŸ¡
- æ ‡ç­¾ï¼š[BFS](/pages/c635ec/)

## è§£é¢˜æ€è·¯
### æ–¹æ³•ä¸€ï¼šå•å‘BFS
ä»èµ·å§‹ç‚¹`"0000"`å‡ºå‘ï¼Œæœ‰`"1000","9000","0100","0900","0010","0090","0001","0009"`8ä¸ªå¯è¾¾ç‚¹ï¼Œä»¥æ­¤ç±»æ¨ï¼Œå¯ä»¥å‘ç°ä¸BFSçš„æœç´¢è¿‡ç¨‹ç±»ä¼¼ï¼Œæœ€å°‘æ—‹è½¬æ¬¡æ•°å³ä¸ºæ±‚è§£BFSå±‚æ•°ï¼Œå› æ­¤å¯ä»¥å¥—ç”¨[å•å‘BFS](/pages/c635ec/#å•å‘bfs)çš„æ¨¡æ¿ï¼ŒåŒæ—¶æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š
1. ç»“ç‚¹ä¸ºå­—ç¬¦ä¸²ï¼Œå¯ä½¿ç”¨`unordered_set`æ¥åˆ¤æ–­æ˜¯å¦å·²å…¥è¿‡é˜Ÿ
2. æ­»äº¡æ•°å­—å’Œå·²å…¥é˜Ÿå…ƒç´ éƒ½ä¸ºä¸å¯è¾¾ç‚¹ï¼Œæ•…å¯åˆå¹¶ä¸¤ä¸ªé›†åˆ

ä»£ç å®ç°ï¼š

<code-group>
<code-block title="C++" active>
```cpp
class Solution {
public:
    int openLock(vector<string>& deadends, string target) {
        if(target == "0000") return 0;
        unordered_set<string> dead(deadends.begin(), deadends.end());
        if(dead.find("0000") != dead.end()) return -1;
        return BFS("0000", target, dead);
    }
    // å•å‘BFS
    int BFS(string start, string target, unordered_set<string>& dead) {
        int res = 0;
        queue<string> q;
        q.push(start);
        dead.insert(start);
        while(!q.empty()) {
            for(int i = 0, len = q.size(); i < len; ++i) {
                if(q.front() == target) return res;
                vector<string> nexts = getNexts(q.front(), dead);
                q.pop();
                for(int j = 0; j < nexts.size(); ++j) {
                    q.push(nexts[j]);
                    dead.insert(nexts[j]);  // è®°å½•å·²å…¥é˜Ÿ
                }
            }
            ++res;
        }
        return -1;
    }
    // è·å–å½“å‰èŠ‚ç‚¹é‚»æ¥ç‚¹ä¸­éæ­»äº¡æ•°å­—å’Œæœªæ›¾å…¥é˜Ÿçš„é‚»æ¥ç‚¹
    vector<string> getNexts(string node, unordered_set<string>& dead) {
        vector<string> res;
        for(int j = 0; j < 4; ++j) {
            string temp = node;
            temp[j] = node[j] == '9' ? '0' : node[j] + 1;  // æ•°å­—å‘å‰æ‹¨
            if(dead.find(temp) == dead.end()) res.push_back(temp);
            temp[j] = node[j] == '0' ? '9' : node[j] - 1;  // æ•°å­—å‘åæ‹¨
            if(dead.find(temp) == dead.end()) res.push_back(temp);
        }
        return res;
    }
};
```
</code-block>
</code-group>
