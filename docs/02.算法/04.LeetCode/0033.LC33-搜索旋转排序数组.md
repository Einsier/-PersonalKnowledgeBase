---
title: LC33-æœç´¢æ—‹è½¬æ’åºæ•°ç»„
date: 2021-06-16 14:55:00
permalink: /pages/eaba82/
---

## é¢˜ç›®æè¿°

- é“¾æ¥ï¼š[https://leetcode-cn.com/problems/search-in-rotated-sorted-array/](https://leetcode-cn.com/problems/search-in-rotated-sorted-array/)
- éš¾åº¦ï¼šğŸŸ¡
- æ ‡ç­¾ï¼š[äºŒåˆ†æŸ¥æ‰¾](/pages/34f617/)

## è§£é¢˜æ€è·¯
### æ–¹æ³•ä¸€ï¼šäºŒåˆ†æŸ¥æ‰¾
è¯¥é¢˜é—®æ˜¯å¦å¯ä»¥è®¾è®¡ä¸€ä¸ªæ—¶é—´å¤æ‚åº¦ä¸ºO(logn)çš„è§£å†³æ–¹æ¡ˆï¼Œé€šå¸¸è€ƒè™‘ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ã€‚è™½ç„¶æ•°ç»„å¹¶ä¸ç¬¦åˆå¸¸è§„çš„äºŒåˆ†æŸ¥æ‰¾æ¡ä»¶ï¼Œä½†åœ¨æ—‹è½¬æ•°ç»„ä¸­ï¼Œä¸€å®šä¼šå­˜åœ¨æŸä¸€åŠçš„å…ƒç´ æ˜¯æœ‰åºçš„ï¼Œè€Œå¦ä¸€åŠæ˜¯åŒæ ·å¯ä»¥å†åˆ’åˆ†çš„æ—‹è½¬æ•°ç»„ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾æ¥é€‰æ‹©æˆ‘ä»¬æ‰€éœ€è¦çš„æŸä¸€åŠè¾¹å…ƒç´ ï¼š
1. ç¡®å®šåˆå§‹åŒºé—´ï¼š`[0,n-1]`
2. ç¡®å®šå¾ªç¯æ¡ä»¶ï¼šè¯¥æ•°å­—ä¸ä¸€å®šå­˜åœ¨ï¼Œæ•…é€‰æ‹©`left <= right`
3. å¯é€šè¿‡åˆ¤æ–­`nums[left]`å’Œ`nums[mid]`çš„å€¼æ¥ç¡®å®šå“ªä¸€åŠæœ‰åºï¼š
    - è‹¥`nums[left] <= nums[mid]`ï¼šmidå·¦åŠä¾§æœ‰åº
        - è‹¥`target`æœ‰å¯èƒ½è½åœ¨å·¦ä¾§ï¼Œåˆ™èˆå¼ƒå³ä¾§
        - åä¹‹ï¼Œèˆå¼ƒå·¦ä¾§
    
    æ³¨æ„ï¼šæ­¤å¤„ä½¿ç”¨`<=`æ˜¯ç”±äºå­˜åœ¨`left`å’Œ`mid`è½åœ¨ç›¸åŒä½ç½®æƒ…å†µï¼ˆåŒºé—´å¤§å°ä¸º2æ—¶ï¼‰ï¼Œè‹¥ä½¿ç”¨`nums[mid]`å’Œ`nums[right]`æ¥åˆ¤æ–­åˆ™æ— éœ€ä½¿ç”¨`=`
    - `nums[left] > nums[mid]`ï¼šmidå³åŠä¾§æœ‰åº
        - è‹¥`target`æœ‰å¯èƒ½è½åœ¨å³ä¾§ï¼Œåˆ™èˆå¼ƒå·¦ä¾§
        - åä¹‹ï¼Œèˆå¼ƒå³ä¾§

ä»£ç å®ç°ï¼š

<code-group>
<code-block title="C++" active>
```cpp {8}
class Solution {
public:
    int search(vector<int>& nums, int target) {
        int left = 0, right = nums.size() - 1, mid;
        while(left <= right) {
            mid = (left + right) / 2;
            if(nums[mid] == target) return mid;
            if(nums[left] <= nums[mid]) {  //å·¦åŠä¾§æœ‰åº
                if(nums[left] <= target && target < nums[mid]) {  //è‹¥æœ‰å¯èƒ½åœ¨å·¦ä¾§ï¼Œèˆå¼ƒå³ä¾§
                    right = mid - 1;
                } else {  //è‹¥ä¸å¯èƒ½åœ¨å·¦ä¾§ï¼Œèˆå¼ƒå·¦ä¾§
                    left = mid + 1;
                }
            } else {  //å³åŠä¾§æœ‰åºï¼ŒåŒä¸Š
                if(nums[mid] < target && target <= nums[right]) {
                    left = mid + 1;
                } else {
                    right = mid - 1;
                }
            }
        }
        return -1;
    }
};
```
</code-block>

<code-block title="Java">
```java {7}
class Solution {
    public int search(int[] nums, int target) {
        int left = 0, right = nums.length - 1, mid;  // ç¡®å®šå·¦å³åŒºé—´
        while(left <= right) {  // å¯èƒ½ä¸å­˜åœ¨ï¼Œå¤¹è‡³ç©ºå€¼æ—¶é€€å‡º
            mid = (left + right) / 2;
            if(nums[mid] == target) return mid;  // æ‰¾åˆ°ç›®æ ‡å…ƒç´ 
            if(nums[left] <= nums[mid]) {  //å·¦åŠä¾§æœ‰åº
                if(nums[left] <= target && target < nums[mid]) {  //è‹¥æœ‰å¯èƒ½åœ¨å·¦ä¾§
                    right = mid - 1;  // èˆå¼ƒå³ä¾§
                } else {  //è‹¥ä¸å¯èƒ½åœ¨å·¦ä¾§
                    left = mid + 1;  // èˆå¼ƒå·¦ä¾§
                }
            } else {  //å³åŠä¾§æœ‰åºï¼ŒåŒä¸Š
                if(nums[mid] < target && target <= nums[right]) {
                    left = mid + 1;
                } else {
                    right = mid - 1;
                }
            }
        }
        return -1;
    }
}
```
</code-block>
</code-group>