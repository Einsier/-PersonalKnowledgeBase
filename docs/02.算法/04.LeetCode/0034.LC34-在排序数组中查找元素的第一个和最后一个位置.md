---
title: LC34-åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®
date: 2021-07-17 22:31:22
permalink: /pages/b61c09/
---


## é¢˜ç›®æè¿°

- é“¾æ¥ï¼š[https://leetcode-cn.com/problems/find-first-and-last-position-of-element-in-sorted-array/](https://leetcode-cn.com/problems/find-first-and-last-position-of-element-in-sorted-array/)
- éš¾åº¦ï¼šğŸŸ¡
- æ ‡ç­¾ï¼š[äºŒåˆ†æŸ¥æ‰¾](/pages/34f617/)

## è§£é¢˜æ€è·¯
### æ–¹æ³•ä¸€ï¼šäºŒåˆ†æŸ¥æ‰¾
æ•°ç»„æœ‰åºä¸”`O(logn)`æ—¶é—´å¤æ‚åº¦ï¼Œä¸ºå…¸å‹çš„äºŒåˆ†æŸ¥æ‰¾æ¡ä»¶ï¼Œæ­¤é¢˜è™½ç„¶éœ€è¦è¿›è¡Œ2æ¬¡äºŒåˆ†æŸ¥æ‰¾æ¥ç¡®å®šå·¦å³è¾¹ç•Œï¼Œä½†æ•´ä½“ä»£ç å¤§è‡´ä¸Šç›¸åŒï¼Œå› æ­¤å¯ä½¿ç”¨ä¸€ä¸ªå‡½æ•°æ¥å®ç°ï¼š
1. ç¡®å®šåˆå§‹åŒºé—´ï¼š`[0,n-1]`
2. ç¡®å®šå¾ªç¯æ¡ä»¶ï¼šè¯¥æ•°å­—ä¸ä¸€å®šå­˜åœ¨ï¼Œæ•…é€‰æ‹©`left <= right`
3. `nums[mid] != target`æ—¶æŒ‰ç…§å¸¸è§„çš„äºŒåˆ†æ“ä½œå³å¯ï¼Œè‹¥`nums[mid] == target`ï¼š
    - è‹¥æ˜¯å¯»æ‰¾å·¦è¾¹ç•Œåˆ™å‘å·¦ç¼©å°èŒƒå›´ï¼Œå³`right = mid + 1`
    - è‹¥æ˜¯å¯»æ‰¾å³è¾¹ç•Œåˆ™å‘å³ç¼©å°èŒƒå›´ï¼Œå³`left = mid - 1`


ä»£ç å®ç°ï¼š

<code-group>
<code-block title="C++" active>
```cpp
class Solution {
public:
    vector<int> searchRange(vector<int>& nums, int target) {
        int left = binarySearch(nums, target, true);
        if(left == -1) return {-1, -1};
        return {left, binarySearch(nums, target, false)};
        
    }
    int binarySearch(vector<int>& nums, int target, bool isLeft) {
        int res = -1;
        int left = 0, right = nums.size() - 1;
        while(left <= right) {
            int mid = (left + right) / 2;
            if(nums[mid] < target) {
                left = mid + 1;
            } else if(nums[mid] > target) {
                right = mid - 1;
            } else {
                res = mid;  // æ›´æ–°ä½ç½®
                if(isLeft) {  // æ‰¾å·¦è¾¹ç•Œå‘å·¦ç§»
                    right = mid - 1;
                } else {  // æ‰¾å³è¾¹ç•Œå‘å³ç§»
                    left = mid + 1;
                }
            }
        }
        return res;
    }
};
```
</code-block>
</code-group>