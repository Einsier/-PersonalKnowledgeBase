---
title: LC1711-å¤§é¤è®¡æ•°
date: 2021-07-07 10:24:48
permalink: /pages/ffbd7f/
---

## é¢˜ç›®æè¿°

- é“¾æ¥ï¼š[https://leetcode-cn.com/problems/count-good-meals/](https://leetcode-cn.com/problems/count-good-meals/)
- éš¾åº¦ï¼šğŸŸ¡
- æ ‡ç­¾ï¼š[å“ˆå¸Œè¡¨](/pages/dee52c/)

## è§£é¢˜æ€è·¯
### æ–¹æ³•ä¸€ï¼šå“ˆå¸ŒæŸ¥æ‰¾
æ­¤é¢˜åŒç†äºï¼š
- [LC1-ä¸¤æ•°ä¹‹å’Œ](/pages/aa2964/)

å¯¹äºæ¯ä¸ª`num`åœ¨`map`ä¸­å¯»æ‰¾`pow(2,i) - num`ï¼Œè‹¥æ‰¾åˆ°ï¼ŒåŠ ä¸Šè¯¥å€¼çš„æ•°é‡ã€‚å…¶ä¸­ï¼Œç”±äº`1 <= num <= pow(2,20)`ï¼Œå› æ­¤ä¸¤æ•°ä¹‹å’Œä¸ä¼šè¶…è¿‡`pow(2,21)`ã€‚

ä»£ç å®ç°ï¼š

<code-group>
<code-block title="C++" active>
```cpp
class Solution {
public:
    static const int MOD = 1e9 + 7;
    int countPairs(vector<int>& deliciousness) {
        int res = 0;
        unordered_map<int, int> map;
        for(auto d : deliciousness) {
            for(int i = 0; i <= 21; ++i) {
                int target = pow(2, i) - d;
                if(map.find(target) != map.end()) {
                    res = (res + map[target]) % MOD;
                }
            }
            map[d]++;
        }
        return res;
    }
};
```
</code-block>
</code-group>

ä¹Ÿå¯è¿›ä¸€æ­¥å°ä¼˜åŒ–ï¼Œåˆ©ç”¨ä¸¤æ•°ä¹‹å’Œä¸ä¼šè¶…è¿‡`maxVal * 2`çš„æ¡ä»¶æ¥æ”¹å†™å¹‚å¾ªç¯ï¼š
```cpp
for(int sum = 1; sum <= maxVal * 2; sum <<= 1) {
    int target = sum - d;
    ...
}
```