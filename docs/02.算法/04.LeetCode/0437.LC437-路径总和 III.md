---
title: LC437-è·¯å¾„æ€»å’Œ III
date: 2021-09-30 15:55:21
permalink: /pages/67f77f/
---


## é¢˜ç›®æè¿°

- é“¾æ¥ï¼š[https://leetcode-cn.com/problems/path-sum-iii/](https://leetcode-cn.com/problems/path-sum-iii/)
- éš¾åº¦ï¼šğŸŸ¡
- æ ‡ç­¾ï¼š[DFS](/pages/ae8ff2/)ã€[å‰ç¼€å’Œ](/pages/aefb22/)

## è§£é¢˜æ€è·¯
### æ–¹æ³•ä¸€ï¼šDFS + å‰ç¼€å’Œ
å‚è€ƒé¢˜ç›®ï¼š
- [LC112-è·¯å¾„æ€»å’Œ](/pages/0e1e69/)
- [LC113-è·¯å¾„æ€»å’Œ II](/pages/5db523/)

æ­¤é¢˜ä¸å‰ä¸¤é¢˜çš„ä¸»è¦åŒºåˆ«åœ¨äºå¯¹è·¯å¾„çš„é¦–å°¾æ²¡æœ‰è¦æ±‚ï¼Œä½†æ˜¾ç„¶è·¯å¾„æ˜¯è¿ç»­çš„èŠ‚ç‚¹ï¼Œå¯å°†æ­¤è¿‡ç¨‹è”æƒ³åˆ°[è¿ç»­å­æ•°ç»„å›ºå®šå’Œé—®é¢˜](/pages/aefb22/#ã€ä¾‹ã€‘è¿ç»­å­æ•°ç»„å’Œä¸ºkçš„æ•°é‡)ï¼Œå¹¶ç»“åˆ LC113 çš„éå†ä»£ç å³å¯ã€‚ 

ä»£ç å®ç°ï¼š

<code-group>
<code-block title="C++" active>
```cpp
/**
 * Definition for a binary tree node.
 * struct TreeNode {
 *     int val;
 *     TreeNode *left;
 *     TreeNode *right;
 *     TreeNode() : val(0), left(nullptr), right(nullptr) {}
 *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) {}
 *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) {}
 * };
 */
class Solution {
public:
    unordered_map<int, int> map;
    int res = 0;
    int pathSum(TreeNode* root, int targetSum) {
        map[0] = 1;  // å­˜å…¥0
        dfs(root, 0, targetSum);
        return res;
    }
    void dfs(TreeNode* root, int curSum, int targetSum) {
        if(root) {
            curSum += root->val;
            if(map.count(curSum - targetSum)) res += map[curSum - targetSum];  // å½“å‰è·¯å¾„ä¸­å­˜åœ¨ç¬¦åˆè¦æ±‚çš„è·¯å¾„ï¼ŒåŠ ä¸Šè·¯å¾„æ•°é‡
            map[curSum]++;  // å­˜å‚¨å½“å‰è·¯å¾„å‰ç¼€å’Œ
            dfs(root->left, curSum, targetSum);
            dfs(root->right, curSum, targetSum);
            map[curSum]--;  // èŠ‚ç‚¹å›é€€
        }
    }
};
```
</code-block>
</code-group>