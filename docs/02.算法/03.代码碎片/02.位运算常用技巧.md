---
title: 位运算常用技巧
date: 2021-06-19 16:47:40
permalink: /pages/ca7ac6/
---

位运算符分为：
- 逻辑运算符：
    - `~`：取反
    - `&`（与运算）：二者同为`1`时结果为`1`，否则为`0`
    - `|`（或运算）：只要二者有一个`1`结果即为`1`，否则为`0`
    - `^`（异或运算）：二者相同结果即为`1`，否则为`0`
- 移位运算符：`<<`（左移）、`>>`（右移）、`>>>`（无符号右移）

### k位操作
```cpp
x | (1 << (k - 1))  //右数k位变为1
x & ~ (1 << (k - 1))  //右数k位变为0
x ^ (1 << (k - 1))  //右数k位取反
x & ((1 << k) - 1)  //取末k位
```

### 判断奇偶性
```cpp
a & 1 == 0;  //a为偶数
a & 1 == 1;  //a为奇数
```

### 交换两数
```cpp
a ^= b;
b ^= a;
a ^= b;
```

### 统计二进制中1或0的个数
```cpp
// 统计二进制中1的个数
int countOne(int n) {
    int res = 0;
    while(n) {
        n &= (n - 1);  //消除右边第一个1
        ++res;
    }
    return res;
}
// 统计二进制中0的个数
int countZero(int n) {
    int res = 0;
    while(n + 1) {
        n |= (n + 1);  //消除右边第一个0
        ++res;
    }
    return res;
}
```