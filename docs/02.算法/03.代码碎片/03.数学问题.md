---
title: 数学问题
date: 2021-06-24 21:05:44
permalink: /pages/4a8b23/
---

## 最大公约数
求解最大公约数常用欧几里得算法（即辗转相除法）。以下为递归写法：
```cpp
int gcd(int a, int b) {
    return !b ? a : gcd(b, a % b);
}
```

## 最小公倍数
最小公倍数的求解在最大公约数的基础上求解，当得到a和b的最大公约数d后，最小公倍数即为`ab/d`;
```cpp
int lcm(int a, int b) {
    int d = gcd(a, b);
    return a / d * b;  // 此写法防止溢出
}
```

## 分数
### 分数的表示
对于一个分数来说，最简洁的写法就是写成**假分数**的形式，因此可以使用一个结构体来存储：
```cpp
struct Fraction {
    int up, down;  // 表示分子和分母
}
```
其中，为了防止出现例如`(-1)/2`和`1/(-2)`、`8/6`和`4/3`等在此结构体下被判断为不等的情况，需要遵守以下规则：
1. 分子和分母只能有一个为负数，通常我们规定负数由分子来表示。
2. 若分数为0，规定分子为0，分母为1
3. 分子和分母必须约分至最简形式

### 分数的化简
由于分数的表示需要遵守一定的规则，则分数的化简过程也需要进行相应的调整，代码如下：
```cpp
Fraction reduction(Fraction f) {
    if(f.down < 0) {  // 分母为负，令分子分母同时取相反数
        f.up = -f.up;
        f.down = -f.down;
    }
    if(f.up == 0) {
        f.down = 1;
    } else {
        int d = gcd(abs(f.up), abs(f.down));  // 取分子分母绝对值的最大公约数
        f.up /= d;
        f.down /= d;
    }
    return f;
}
```

::: tip 💡
一般情况下，分子和分母应当使用`long long`型来表示
:::


