---
title: äºŒåˆ†æŸ¥æ‰¾
date: 2021-06-14 15:20:09
permalink: /pages/34f617/
---

## åŸºæœ¬äºŒåˆ†
äºŒåˆ†æŸ¥æ‰¾æ˜¯åŸºäº**æœ‰åºåºåˆ—**çš„æŸ¥æ‰¾ç®—æ³•ï¼Œå…¶é«˜æ•ˆä¹‹å¤„åœ¨äºæ¯ä¸€æ­¥å¯ä»¥å»é™¤å½“å‰æŸ¥æ‰¾åŒºé—´ä¸­çš„ä¸€åŠå…ƒç´ ï¼Œå› æ­¤è¯¥ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(logn)ã€‚

### å¯»æ‰¾ä¸€ä¸ªæ•°ï¼ˆä¸¥æ ¼æœ‰åºï¼‰
å¦‚ä½•ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾æ³•åœ¨ä¸€ä¸ªä¸¥æ ¼æœ‰åºåºåˆ—ä¸­æ‰¾å‡ºç»™å®šçš„`target`çš„ä½ç½®ï¼Œä»¥ä¸¥æ ¼é€’å¢åºåˆ— A = {1, 3, 4, 6, 10, 12, 13} ä¸­æŸ¥æ‰¾æ•°å­—10ä¸ºä¾‹ï¼š
1. ä»¤ `left = 1, right = 7`ï¼Œè¡¨ç¤ºå½“å‰æŸ¥è¯¢çš„ä¸‹æ ‡èŒƒå›´ã€‚
1. `[left,right] = [1,7]`ï¼Œæ­¤æ—¶ä¸‹æ ‡ä¸­ç‚¹ mid = (left + right) / 2 = 4ã€‚ç”±äº A[4] = 6 < 10ï¼Œè¯´æ˜éœ€è¦åœ¨`[mid+1,right]`èŒƒå›´å†…ç»§ç»­æŸ¥æ‰¾ï¼Œå› æ­¤ä»¤`left = mid + 1`ã€‚
2. `[left,right] = [5,7]`ï¼Œæ­¤æ—¶ä¸‹æ ‡ä¸­ç‚¹ mid = (left + right) / 2 = 6ã€‚ç”±äº A[6] = 12 > 10ï¼Œè¯´æ˜éœ€è¦åœ¨`[left,mid-1]`èŒƒå›´å†…ç»§ç»­æŸ¥æ‰¾ï¼Œå› æ­¤ä»¤`right = mid - 1`ã€‚
3. `[left,right] = [5,5]`ï¼Œæ­¤æ—¶ä¸‹æ ‡ä¸­ç‚¹ mid = (left + right) / 2 = 5ã€‚ç”±äº A[5] = 10 == 10ï¼Œè¯´æ˜æ‰¾åˆ°äº†`target`ï¼Œå› æ­¤ç»“æŸç®—æ³•ï¼Œè¿”å›ä¸‹æ ‡5ã€‚

![](https://gitee.com/einsier/pics-bed/raw/master/pics/â€2021â€0â€6â€â€15â€â€102931.jpg)

ä»£ç å®ç°ï¼š
```cpp {2,4,5}
int binarySearch(int A[], int n, int target) {
    int left = 0, right = n - 1;  //æŸ¥è¯¢åŒºé—´ä¸º[0,n-1]
    int mid;
    while(left <= right) {
        mid = (left + right) / 2;  //å–ä¸­ç‚¹
        if(A[mid] == target) return mid;  //æ‰¾åˆ° targetï¼Œè¿”å›ä¸‹æ ‡
        else if(A[mid] > target) {  //é€‰æ‹©å·¦å­åŒºé—´[left,mid-1]ç»§ç»­æŸ¥æ‰¾
            right = mid - 1;
        } else {  //é€‰æ‹©å³å­åŒºé—´[mid+1,right]ç»§ç»­æŸ¥æ‰¾
            left = mid + 1;
        }
    }
    return -1;  //æŸ¥æ‰¾å¤±è´¥
}
```
::: tip ğŸ’¡
1. æŸ¥æ‰¾è¿‡ç¨‹ä¸åºåˆ—ä¸‹æ ‡ä»0è¿˜æ˜¯1å¼€å§‹æ— å…³
2. ä¸ºé˜²æ­¢æº¢å‡ºï¼Œé€šå¸¸å°†ç¬¬4è¡Œä»£ç æ”¹å†™ä¸º`mid = left + (right - left) / 2;`
3. è‹¥ä¸ºä¸¥æ ¼é€’å‡åºåˆ—ï¼Œä¿®æ”¹åˆ¤æ–­æ¡ä»¶å³å¯
:::

### å¯»æ‰¾ç¬¬ä¸€ä¸ªå¤§äºç›®æ ‡å€¼çš„ä½ç½®ï¼ˆå«é‡å¤å€¼ï¼‰
å¦‚æœæœ‰åºåºåˆ—ä¸­å«æœ‰é‡å¤çš„å…ƒç´ ï¼Œå¦‚ä½•åœ¨è¯¥åºåˆ—ä¸­æ‰¾å‡ºç¬¬ä¸€ä¸ªå¤§äº`target`çš„ä½ç½®ï¼š
- è‹¥`A[mid] > target`ï¼Œè¯´æ˜ç¬¬ä¸€ä¸ªå¤§äº`target`çš„å…ƒç´ ä½ç½®ä¸€å®šåœ¨midæˆ–midå·¦ä¾§ï¼Œéœ€è¦åœ¨`[left,mid]`èŒƒå›´å†…ç»§ç»­æŸ¥æ‰¾ï¼Œå› æ­¤ä»¤`right = mid`
- è‹¥`A[mid] <= target`, è¯´æ˜ç¬¬ä¸€ä¸ªå¤§äº`target`çš„å…ƒç´ ä½ç½®ä¸€å®šåœ¨å³ä¾§ï¼Œéœ€è¦åœ¨`[mid + 1,right]`èŒƒå›´å†…ç»§ç»­æŸ¥æ‰¾ï¼Œå› æ­¤ä»¤`left = mid + 1`

ä»£ç å®ç°ï¼š
```cpp {2,4}
int upper_bound(int A[], int n, int target) {
    int left = 0, right = n;  //æŸ¥è¯¢åŒºé—´ä¸º[0,n]
    int mid;
    while(left < right) {
        mid = (left + right) / 2;  //å–ä¸­ç‚¹
        if(A[mid] > target) {  //é€‰æ‹©å·¦å­åŒºé—´[left,mid]ç»§ç»­æŸ¥æ‰¾
            right = mid;
        } else {  //é€‰æ‹©å³å­åŒºé—´[mid+1,right]ç»§ç»­æŸ¥æ‰¾
            left = mid + 1;
        }
    }
    return left;  //æ­¤æ—¶åŒºé—´ä¸º[left,right]ï¼Œå¤¹å‡ºå”¯ä¸€ä½ç½®
}
```
::: tip ğŸ’¡
upper_boundå‡½æ•°ä¸binarySearchå‡½æ•°ç›¸æ¯”æœ‰ä»¥ä¸‹ä¸åŒç‚¹ï¼š
1. æŸ¥è¯¢åŒºé—´ç”±`[0,n-1]`å˜ä¸º`[0,n]`ï¼Œè¿™æ˜¯ç”±äºè¦æŸ¥è¯¢çš„`target`å¯èƒ½å¤§äºåºåˆ—ä¸­æ‰€æœ‰å…ƒç´ ï¼Œé‚£ä¹ˆnå³ä¸ºæ‰€æ±‚çš„ä½ç½®
2. å¾ªç¯æ¡ä»¶ç”±`left <= right`å˜ä¸º`left < right`ï¼Œè¿™æ˜¯ç”±äºå‰è€…å½“åŒºé—´æ”¶ç¼©ä¸º`[left,right]`æ—¶ä»éœ€è¿›è¡Œåˆ¤æ–­ï¼Œå³å¯èƒ½å­˜åœ¨å…ƒç´ `target`å¹¶ä¸åœ¨åºåˆ—ä¸­ï¼Œè€Œåè€…å½“åŒºé—´æ”¶ç¼©è‡³`[left,right]`æ—¶æ— éœ€å†è¿›è¡Œåˆ¤æ–­ï¼Œæ­¤æ—¶å¤¹å‡ºçš„å”¯ä¸€ä½ç½®å³ä¸ºç­”æ¡ˆ
:::

### å°ç»“
é’ˆå¯¹åŸºæœ¬äºŒåˆ†æŸ¥æ‰¾çš„çš„é—®é¢˜ï¼Œéœ€è¦æ ¹æ®å®é™…æƒ…å†µæ¥è€ƒè™‘ä»¥ä¸‹æ¡ä»¶ï¼š
1. åˆå§‹åŒºé—´ï¼ˆåº”è¦†ç›–æ‰€æœ‰å¯èƒ½è¿”å›çš„ç»“æœï¼‰
    - æŸ¥æ‰¾åŒºé—´å†…æ˜¯å¦å­˜åœ¨æŸå€¼ï¼š`[0,n-1]`
    - æŸ¥æ‰¾å¤§äº`target`çš„æœ€å°å€¼ï¼Œè‹¥`target`å¤§äºåºåˆ—æ‰€æœ‰å€¼ï¼š`[0,n]`
    - æŸ¥æ‰¾å°äº`target`çš„æœ€å¤§å€¼ï¼Œè‹¥`target`å°äºåºåˆ—æ‰€æœ‰å€¼ï¼š`[-1,n-1]`
2. å¾ªç¯æ¡ä»¶
    - è‹¥æŸ¥è¯¢å…ƒç´ éœ€è¦åˆ¤æ–­æ˜¯å¦å­˜åœ¨äºæŸ¥æ‰¾åŒºé—´å†…ï¼Œåº”é€‰æ‹©`left <= right`ï¼Œæ­¤æ—¶åŒºé—´æ”¶ç¼©ä¸ºç©ºæ—¶æ‰é€€å‡ºå¾ªç¯
    - è‹¥æŸ¥è¯¢å…ƒç´ ä¸€å®šå­˜åœ¨äºæŸ¥æ‰¾åŒºé—´å†…ï¼Œåº”é€‰æ‹©`left < right`å¤¹å‡ºå”¯ä¸€ä½ç½®
3. æ”¶ç¼©åŒºé—´æ—¶midçš„å½’å±æƒ…å†µ

## æ‹“å±•äºŒåˆ†